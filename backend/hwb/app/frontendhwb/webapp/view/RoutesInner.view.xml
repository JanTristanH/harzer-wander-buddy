<mvc:View
    controllerName="hwb.frontendhwb.controller.RoutesInner"
    xmlns:mvc="sap.ui.core.mvc"
    displayBlock="true"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:core="sap.ui.core"
    height="100%"
    width="100%"
>
    <f:FlexibleColumnLayout id="fcl">
        <f:beginColumnPages>
            <Page
                id="page"
                enableScrolling="false"
                title="{i18n>title}"
                backgroundDesign="Transparent"
            >
                <content>
                    <HBox
                        height="100%"
                        width="100%"
                    >
                        <IconTabBar
                            id="idIconTabBarMulti"
                            class="sapUiResponsiveContentPadding"
                        >
                            <items>
                                <IconTabFilter
                                    icon="sap-icon://expand-all"
                                    key="iconTabFilterTours"
                                    text="{i18n>allTours}"
                                >
                                    <Toolbar>
                                        <Button
                                            icon="sap-icon://add"
                                            press="onButtonCreateTourPress"
                                        />
                                    </Toolbar>
                                    <List
                                        id="idTourList"
                                        items="{/Tours}"
                                        selectionChange="onToursListSelectionChange"
                                        mode="SingleSelectMaster"
                                    >
                                        <CustomListItem>
                                            <VBox>
                                                <HBox>
                                                    <Text text="{name}" />
                                                    <Text text=" - Länge: " />
                                                    <Text
                                                        text="{path: 'duration', formatter: '.formatSecondsToTime'}"
                                                    />
                                                </HBox>
                                                <HBox>
                                                    <Text text="Distanz: " />
                                                    <Text
                                                        text="{path: 'distance', formatter: '.formatMetersToKilometers'}"
                                                    />
                                                </HBox>
                                                <HBox>
                                                    <Text text="Stempel: " />
                                                    <Text text="{stampCount}" />
                                                </HBox>
                                            </VBox>
                                            <customData>
                                                <core:CustomData
                                                    key="ID"
                                                    value="{ID}"
                                                    writeToDom="true"
                                                />
                                            </customData>
                                        </CustomListItem>
                                    </List>
                                </IconTabFilter>
                                <IconTabFilter
                                    icon="sap-icon://ai"
                                    key="iconTabFilterCalculatedRoutes"
                                    text="{i18n>individuel}"
                                >
                                    <HBox>
                                        <!-- alternate calculation button when IllustratedMessage is hidden -->
                                        <Button
                                            id="idTourCalculateButton"
                                            visible="false"
                                            text="{i18n>calculateTour}"
                                            press='onOpenRoutingDialog'
                                            class="sapUiSmallMargin"
                                            icon="sap-icon://activate"
                                        />
                                    </HBox>
                                    <HBox width="100rem">
                                        <IllustratedMessage
                                            enableVerticalResponsiveness="true"
                                            illustrationType="sapIllus-SearchEarth"
                                            title="{i18n>noIndividuellDataHeader}"
                                            description="{i18n>noIndividuellData}"
                                            visible="{= ${local>/hikingRoutes}.length === 0 }"
                                        >
                                            <additionalContent>
                                                <Button
                                                    text="{i18n>calculateTour}"
                                                    press='onOpenRoutingDialog'
                                                    class="sapUiSmallMargin"
                                                    icon="sap-icon://activate"
                                                />
                                            </additionalContent>
                                        </IllustratedMessage>
                                    </HBox>
                                    <SelectList
                                        id="idRouteList"
                                        items="{local>/hikingRoutes}"
                                        selectionChange="onSelectionChange"
                                        width="100%"
                                    >
                                        <core:ListItem
                                            key="{local>id}"
                                            text="Länge: {path: 'local>duration', formatter: '.formatSecondsToTime'} - Distanz: {path: 'local>distance', formatter: '.formatMetersToKilometers'} - Stempel: {local>stampCount}"
                                        />
                                    </SelectList>
                                </IconTabFilter>
                            </items>
                        </IconTabBar>
                    </HBox>
                </content>
            </Page>
        </f:beginColumnPages>
    </f:FlexibleColumnLayout>
</mvc:View>
