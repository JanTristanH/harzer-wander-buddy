<custom:LeafletMap
    xmlns:custom="hwb.frontendhwb.control"    
    id="map"
    initialPosition="10.615779999999972;51.80054"
    initialZoom="16"
    zoomlevel="{app>/zoomlevel}"
    centerPosition="{local>centerPosition}"
    height="97%"
    width="100%"
    zoomChanged="onGeoMapZoomChanged"
    centerChanged="onGeoMapCenterChanged">
    <custom:Spots
        id="idStampingSpots"
        items="{ path: '/Stampboxes', parameters:{expand : 'Stampings'} }"
    >
        <!-- Example spot aggregation. Adjust bindings as per your model. -->
        <custom:LeafletSpot
            position="{longitude};{latitude}"
            scale="{ parts:['ID','local>/sCurrentSpotId'], formatter: '.onFormatSpotScale'}"
            text="{number}"
            type="{ parts: ['', 'app>/bShowStampedSpots', 'app>/bShowUnStampedSpots', 'hasVisited'], formatter: '.onFormatBoxType'}"
            labelText="{ parts: ['name', 'app>/zoomlevel', 'app>/bShowLabels', 'app>/bShowStampedSpots', 'app>/bShowUnStampedSpots', 'hasVisited', 'ID','local>/sCurrentSpotId'], formatter: '.onFormatStampLabelText'}"
            click="onSpotClick"
        />
        <!-- Add additional spots or use aggregation binding as needed. -->
    </custom:Spots>
</custom:LeafletMap>
